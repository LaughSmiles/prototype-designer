# 摄影派画布编辑器使用指南

## 🎯 概述

画布编辑器是一个交互式的原型设计工具，专为"摄影派"项目开发。它允许您将所有32个页面拖拽到画布上，进行布局设计，并添加箭头、文字等标注。

## 🚀 快速开始

### 1. 打开画布编辑器

**方法一：通过主页链接**
- 打开 `index.html`
- 点击顶部的"进入画布编辑器"按钮

**方法二：直接访问**
- 在浏览器中打开 `canvas-editor.html`

### 2. 基本操作

#### 三栏布局说明
```
┌─────────────────────────────────────────────────────────┐
│ 工具栏（左侧）   │ 画布区域（中央）      │ 页面库（右侧）   │
│                  │                        │                │
│ 📍 选择工具      │                        │ 📱 首页        │
│ ➡️ 箭头工具      │   [工作区域]           │ 🔍 搜索页面    │
│ 📝 文字工具      │                        │ 🎬 租赁详情    │
│                  │                        │ ...            │
│ ──────────────   │                        │                │
│ 💾 保存          │                        │                │
│ 📤 导出          │                        │                │
│ 📥 导入          │                        │                │
└─────────────────────────────────────────────────────────┘
```

#### 拖拽页面到画布
1. 从右侧页面库找到要添加的页面
2. 按住鼠标左键拖拽到中央画布区域
3. 松开鼠标，页面即被添加到画布上

#### 视图操作（画布不可拖动）
- **移动视图**：鼠标滚轮上下左右滚动
- **放大视图**：Ctrl + 鼠标滚轮向上
- **缩小视图**：Ctrl + 鼠标滚轮向下
- **重置视图**：点击左侧"重置"按钮 或 Ctrl+0

#### 元素操作
- **移动元素**：点击元素并拖拽
- **缩放元素**：选中元素后，Ctrl + 鼠标滚轮
- **删除元素**：选中元素后按 Delete 键，或点击元素右上角的 × 按钮
- **取消选择**：双击空白处或按 Esc 键

#### 绘图工具
- **箭头工具**：
  1. 点击左侧"箭头"按钮
  2. 在画布上点击起点
  3. 在画布上点击终点
  4. 箭头自动创建

- **文字工具**：
  1. 点击左侧"文字"按钮
  2. 在画布上点击位置
  3. 输入文字内容
  4. 点击确定

### 3. 数据管理

#### 保存到本地
- 点击左侧"保存"按钮
- 或使用快捷键 `Ctrl + S`
- 数据保存在浏览器的 localStorage 中

#### 导出 JSON
- 点击左侧"导出"按钮
- 或使用快捷键 `Ctrl + E`
- 下载 `.json` 文件，可分享或备份

#### 导入 JSON
- 点击左侧"导入"按钮
- 或使用快捷键 `Ctrl + I`
- 选择之前导出的 `.json` 文件
- 自动恢复所有元素和布局

## ⌨️ 快捷键速查

| 快捷键 | 功能 |
|--------|------|
| **鼠标滚轮** | 移动视图 |
| **Ctrl + 滚轮** | 缩放视图 |
| **Ctrl + 0** | 重置视图 |
| **S** | 切换到选择工具 |
| **A** | 切换到箭头工具 |
| **T** | 切换到文字工具 |
| **Ctrl + S** | 保存到本地 |
| **Ctrl + E** | 导出 JSON |
| **Ctrl + I** | 导入 JSON |
| **Delete** | 删除选中元素 |
| **Esc** | 取消选择/取消工具 |
| **Ctrl + /** | 显示帮助 |

## 💡 使用技巧

### 1. 布局设计
- 先拖拽所有需要的页面到画布
- 使用视图缩放来查看整体布局
- 用箭头工具标注页面之间的跳转关系
- 用文字工具添加说明和注释

### 2. 元素管理
- 页面元素可以等比缩放，保持iPhone比例
- 选中元素会显示蓝色边框和删除按钮
- 元素重叠时，后添加的在上层

### 3. 数据安全
- 定期使用"保存"功能，防止意外丢失
- 重要设计建议"导出"为JSON文件备份
- 导入前可以先导出当前状态作为备份

### 4. 性能优化
- 画布上元素过多时，建议分组保存
- 可以使用"清空"功能重新开始
- 导出的JSON文件可以用文本编辑器查看和编辑

## 📁 文件说明

### 核心文件
- `canvas-editor.html` - 主页面
- `css/canvas-editor.css` - 样式
- `js/canvas-editor.js` - 主控制器
- `js/page-library.js` - 页面库管理
- `js/canvas-view.js` - 视图操作
- `js/element-manager.js` - 元素管理
- `js/tools.js` - 工具系统
- `js/storage.js` - 数据持久化

### 数据文件
- `data/` - 保存目录（可选）
- localStorage - 浏览器本地存储

## 🔧 故障排除

### 问题：页面库不显示
**解决**：检查浏览器控制台是否有错误，确保所有JS文件正确加载

### 问题：拖拽无效
**解决**：检查是否使用现代浏览器（Chrome、Firefox、Edge等）

### 问题：保存失败
**解决**：检查浏览器是否启用了localStorage，或尝试使用导出功能

### 问题：导入失败
**解决**：确保导入的JSON文件格式正确，没有手动编辑过

## 🌐 浏览器兼容性

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Edge 90+
- ✅ Safari 14+
- ❌ IE 11（不支持）

## 📞 技术支持

如有问题，请查看：
1. 浏览器控制台错误信息
2. `CLAUDE.md` 中的详细技术文档
3. `.cursor-history.md` 中的开发记录

---

**版本**: 1.0
**最后更新**: 2024-12-25
**作者**: Claude Code